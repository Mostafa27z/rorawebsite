<!-- ðŸŒ¸ Navbar -->
<header
  class="w-full shadow-md  z-50 transition-all duration-300 backdrop-blur-md"
  [class.bg-opacity-95]="scrolled"
  [class.py-2]="scrolled"
  style="background-color: var(--color-secondary);"
>
  <nav
    class="flex justify-between items-center max-w-7xl mx-auto px-6 py-3 md:py-4 transition-all duration-300"
  >
    <!-- Logo -->
    <a routerLink="/" class="flex items-center hover:scale-105 transition-transform duration-300">
      <img
        src="./images/logo2.svg"
        alt="Rora Store Logo"
        class="h-10 md:h-16 w-auto object-contain select-none drop-shadow-md"
        loading="lazy"
      />
    </a>

    <!-- Desktop Menu -->
    <ul class="hidden md:flex gap-8 font-medium">
      <li><a routerLink="/" class="relative group text-[var(--color-primary)]">Home</a></li>
      <li><a routerLink="/shop" class="relative group text-[var(--color-primary)]">Shop</a></li>
      <li><a routerLink="/about" class="relative group text-[var(--color-primary)]">About</a></li>
      <li><a routerLink="/contact" class="relative group text-[var(--color-primary)]">Contact</a></li>
      
      <!-- âœ… Client Links -->
      <li *ngIf="isAuthenticated()">
        <a routerLink="/myorders" class="relative group text-[var(--color-primary)]">My Orders</a>
      </li>

      <!-- âœ… Admin Links -->
      <li *ngIf="isAdmin()">
        <a routerLink="/dashboard" class="relative group text-[var(--color-primary)]">Dashboard</a>
      </li>
    </ul>

    <!-- ðŸ” Auth Buttons / User Menu -->
    <div class="hidden md:flex items-center gap-3">
      <!-- Logged Out -->
      <ng-container *ngIf="!isAuthenticated(); else loggedIn">
        <a
          routerLink="/login"
          class="bg-[var(--color-primary)] text-[var(--color-secondary)] px-4 py-2 rounded-xl hover:bg-[var(--color-accent-2)] transition-all duration-300 shadow-md"
        >
          Login
        </a>
        <a
          routerLink="/signup"
          class="border border-[var(--color-primary)] text-[var(--color-primary)] px-4 py-2 rounded-xl hover:bg-[var(--color-accent-1)] hover:text-[var(--color-neutral-dark)] transition-all duration-300"
        >
          Sign Up
        </a>
      </ng-container>

      <!-- Logged In -->
      <ng-template #loggedIn>
  <div class="flex items-center gap-4">
    <!-- Profile link with icon and improved styling -->
    <a
      class="flex items-center gap-2 font-medium text-[var(--color-primary)] hover:text-[var(--color-accent-2)] transition"
      routerLink="/profile"
    >
      <i class="fas fa-user-circle text-[var(--color-primary)] text-xl"></i>
      Hi, {{ currentUser?.name }}
    </a>

    <!-- Logout button with hover effect -->
    <button
      (click)="logout()"
      class="bg-[var(--color-accent-2)] text-[var(--color-secondary)] px-6 py-2 rounded-xl hover:bg-[var(--color-accent-1)] transition"
    >
      Logout
    </button>
  </div>
</ng-template>

    </div>

    <!-- Mobile Menu Button -->
    <button
      (click)="toggleMenu()"
      class="md:hidden text-[var(--color-primary)] focus:outline-none hover:scale-110 transition-transform duration-200"
    >
      <i class="fas fa-bars text-2xl"></i>
    </button>
  </nav>

  <!-- ðŸ“± Mobile Menu -->
<div
  *ngIf="menuOpen"
  class="md:hidden bg-[var(--color-secondary)] border-t border-[var(--color-neutral-light)] animate-fadeIn"
>
  <ul class="flex flex-col items-center gap-4 py-4 font-medium">
    <li><a routerLink="/" (click)="closeMenu()" class="text-[var(--color-primary)]">Home</a></li>
    <li><a routerLink="/shop" (click)="closeMenu()" class="text-[var(--color-primary)]">Shop</a></li>
    <li><a routerLink="/about" (click)="closeMenu()" class="text-[var(--color-primary)]">About</a></li>
    <li><a routerLink="/contact" (click)="closeMenu()" class="text-[var(--color-primary)]">Contact</a></li>

    <!-- Client -->
    <li *ngIf="isAuthenticated()">
      <a routerLink="/myorders" (click)="closeMenu()" class="text-[var(--color-primary)]">My Orders</a>
    </li>

    <!-- Admin -->
    <li *ngIf="isAdmin()">
      <a routerLink="/dashboard" (click)="closeMenu()" class="text-[var(--color-primary)]">Dashboard</a>
    </li>

    <!-- Logged Out -->
    <li *ngIf="!isAuthenticated()">
      <a
        routerLink="/login"
        (click)="closeMenu()"
        class="bg-[var(--color-primary)] text-[var(--color-secondary)] px-5 py-2 rounded-xl hover:bg-[var(--color-accent-2)] transition"
      >
        Login
      </a>
    </li>
    <li *ngIf="!isAuthenticated()">
      <a
        routerLink="/signup"
        (click)="closeMenu()"
        class="border border-[var(--color-primary)] text-[var(--color-primary)] px-5 py-2 rounded-xl hover:bg-[var(--color-accent-1)] hover:text-[var(--color-neutral-dark)] transition"
      >
        Sign Up
      </a>
    </li>

    <!-- Logged In -->
    <li *ngIf="isAuthenticated()" class="flex flex-col justify-center items-center">
      <span class="text-[var(--color-primary)] font-medium block mb-2">Hi, {{ currentUser?.name }}</span>
      
      <!-- Profile link with icon -->
      <a
        routerLink="/profile"
        (click)="closeMenu()"
        class="flex items-center gap-2 text-[var(--color-primary)] hover:text-[var(--color-accent-2)] transition mb-4"
      >
        <i class="fas fa-user-circle text-[var(--color-primary)] text-xl"></i>
        Profile
      </a>

      <!-- Logout button -->
      <button
        (click)="logout(); closeMenu()"
        class="bg-[var(--color-accent-2)] text-[var(--color-secondary)] px-5 py-2 rounded-xl hover:opacity-90 transition"
      >
        Logout
      </button>
    </li>
  </ul>
</div>

</header>

<!-- ðŸŒº Main Content -->
<main class="min-h-[80vh] fade-in">
  <router-outlet></router-outlet>
</main>

<!-- ðŸŒ· Footer -->
<footer class="py-10 px-6 text-center bg-[var(--color-primary)]">
  <p class="text-sm tracking-wide text-[var(--color-secondary)] opacity-90">
    Â© 2025 Rora Store â€” All rights reserved.
  </p>
</footer>
<app-cart></app-cart>