<section class="py-20 px-6 bg-[var(--color-secondary)] min-h-screen">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-16 animate-fadeIn">
      <div class="inline-block mb-4">
        <i class="fas fa-store text-5xl text-[var(--color-primary)]"></i>
      </div>
      <h2 class="text-6xl font-bold text-[var(--color-primary)] mb-4 tracking-tight">
        Our Products
      </h2>
      <p class="text-[var(--color-accent-2)] text-xl">
        Discover our curated beauty collection
      </p>
    </div>

    <!-- Filters -->
    <div class="mb-16 p-8 rounded-3xl shadow-xl bg-gradient-to-br from-[var(--color-neutral-light)] to-[var(--color-secondary)] animate-fadeIn">
      <div class="flex flex-col md:flex-row justify-between items-center gap-6">
        <!-- Search -->
        <div class="w-full md:w-2/5 relative group">
          <div class="absolute left-5 top-1/2 -translate-y-1/2 text-[var(--color-accent-2)] transition-all duration-300 group-focus-within:text-[var(--color-primary)]">
            <i class="fas fa-search text-lg"></i>
          </div>
          <input
            type="text"
            placeholder="Search for products..."
            [(ngModel)]="searchTerm"
            (ngModelChange)="onSearchOrFilterChange()"
            class="w-full pl-14 pr-5 py-4 rounded-2xl focus:outline-none text-[var(--color-neutral-dark)] font-medium bg-[var(--color-secondary)] shadow-md focus:shadow-lg transition-all duration-300 border-2 border-transparent focus:border-[var(--color-primary)]"
          />
        </div>

        <!-- Category -->
        <div class="w-full md:w-2/5 relative group">
          <div class="absolute left-5 top-1/2 -translate-y-1/2 text-[var(--color-accent-2)] pointer-events-none transition-all duration-300 group-focus-within:text-[var(--color-primary)]">
            <i class="fas fa-filter text-lg"></i>
          </div>
          <select
            [(ngModel)]="selectedCategory"
            (change)="onSearchOrFilterChange()"
            class="w-full pl-14 pr-5 py-4 rounded-2xl focus:outline-none text-[var(--color-neutral-dark)] font-medium cursor-pointer bg-[var(--color-secondary)] appearance-none shadow-md focus:shadow-lg transition-all duration-300 border-2 border-transparent focus:border-[var(--color-primary)]"
          >
            <option value="All">All Categories</option>
            <option *ngFor="let cat of categoriesData" [value]="cat.id">{{ cat.name }}</option>
          </select>
          <div class="absolute right-5 top-1/2 -translate-y-1/2 text-[var(--color-accent-2)] pointer-events-none">
            <i class="fas fa-chevron-down"></i>
          </div>
        </div>

        <!-- Results Count -->
        <div class="w-full md:w-auto text-center md:text-left">
          <div class="inline-flex items-center gap-3 px-6 py-4 bg-[var(--color-secondary)] rounded-2xl shadow-md">
            <i class="fas fa-box text-[var(--color-primary)] text-xl"></i>
            <div>
              <p class="text-sm text-[var(--color-accent-2)] font-medium">Total Products</p>
              <p class="text-2xl font-bold text-[var(--color-primary)]">{{ totalItems }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="flex flex-col items-center justify-center py-32">
      <i class="fas fa-spinner fa-spin text-6xl text-[var(--color-primary)] mb-4"></i>
      <p class="text-[var(--color-accent-2)] text-lg">Loading products...</p>
    </div>

    <!-- Products Grid -->
    <div *ngIf="!isLoading" class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 mb-16">
      <div
        *ngFor="let product of products; let i = index"
        [style.animation-delay]="i * 0.05 + 's'"
        class="animate-fadeIn"
      >
        <app-product-card
              [product]="product"
              
              (viewDetails)="openProductModal($event)"
            ></app-product-card>
      </div>

      <!-- Empty State -->
      <div *ngIf="products.length === 0" class="col-span-full text-center py-20 animate-fadeIn">
        <div class="inline-block p-8 rounded-full bg-[var(--color-neutral-light)] mb-6 shadow-lg">
          <i class="fas fa-box-open text-6xl text-[var(--color-accent-2)]"></i>
        </div>
        <h3 class="text-[var(--color-primary)] text-2xl font-bold mb-3">No Products Found</h3>
        <p class="text-[var(--color-accent-2)] text-lg mb-8 max-w-md mx-auto">
          Try adjusting your search or filter to find what you're looking for
        </p>
        <button
          (click)="resetFilters()"
          class="px-8 py-3 bg-[var(--color-primary)] text-[var(--color-secondary)] rounded-2xl font-semibold hover:bg-[var(--color-accent-2)] transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105"
        >
          <i class="fas fa-redo mr-2"></i>
          Reset Filters
        </button>
      </div>
    </div>

    <!-- Pagination -->
    <div class="flex justify-center items-center gap-3 flex-wrap" *ngIf="!isLoading && totalPages > 1">
      <!-- Previous Button -->
      <button
        (click)="changePage(currentPage - 1)"
        [disabled]="currentPage === 1"
        class="px-6 py-3 rounded-2xl border-2 border-[var(--color-accent-2)] text-[var(--color-primary)] font-semibold hover:bg-[var(--color-accent-1)] hover:text-[var(--color-secondary)] hover:border-[var(--color-accent-1)] transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed hover:scale-105 disabled:hover:scale-100 shadow-md hover:shadow-lg"
      >
        <i class="fas fa-chevron-left mr-2"></i>
        Previous
      </button>

      <!-- Page Numbers -->
      <div class="flex gap-2">
        <button
          *ngFor="let i of [].constructor(totalPages); let index = index"
          (click)="changePage(index + 1)"
          [ngClass]="{
            'bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-accent-2)] text-[var(--color-secondary)] shadow-lg scale-110': currentPage === index + 1,
            'bg-[var(--color-neutral-light)] text-[var(--color-primary)] hover:bg-[var(--color-accent-1)] hover:text-[var(--color-secondary)]': currentPage !== index + 1
          }"
          class="min-w-[3rem] h-12 rounded-2xl font-bold transition-all duration-300 hover:scale-105 shadow-md hover:shadow-lg"
        >
          {{ index + 1 }}
        </button>
      </div>

      <!-- Next Button -->
      <button
        (click)="changePage(currentPage + 1)"
        [disabled]="currentPage === totalPages"
        class="px-6 py-3 rounded-2xl border-2 border-[var(--color-accent-2)] text-[var(--color-primary)] font-semibold hover:bg-[var(--color-accent-1)] hover:text-[var(--color-secondary)] hover:border-[var(--color-accent-1)] transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed hover:scale-105 disabled:hover:scale-100 shadow-md hover:shadow-lg"
      >
        Next
        <i class="fas fa-chevron-right ml-2"></i>
      </button>
    </div>
  </div>
</section>
<!-- Product Modal Component -->
<app-product-modal
  [showModal]="showModal"
  [product]="selectedProduct"
  (close)="closeModal()"
  (addToCart)="addToCartFromModal($event)"
></app-product-modal>